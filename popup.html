<html>
<head>
	<link rel="stylesheet" href="default.css" />
	<link rel="stylesheet" href="font-awesome.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
	<script src="Scripts/Lib/ember-0.9.6.js"></script>
  <script src="Scripts/DTab.js"></script>


  <script type="text/x-handlebars" data-template-name="mainControls">
  	<a class="icon-plus" {{action "createNewGroup" target="DTab.TabGroupController"}}> Add Group</a>
		<a class="icon-trash"> Empty Trash</a>	
	</script>


	<script type="text/x-handlebars" data-template-name="tab">
		<div class="icons">
			<img {{bindAttr src="tab.favIconUrl"}} />
		</div>
		<div class="info">
  		<h2>{{tab.title}}</h2>
  		<a {{bindAttr href="tab.url"}} {{action "open"}}>{{shortURL}}</a>
  		</div>
  </script>


  <script type="text/x-handlebars" data-template-name="tabMini">
		<img {{bindAttr src="tab.favIconUrl"}} />
  </script>


  <script type="text/x-handlebars" data-template-name="tabGroupTitle">
		<a title="Open Group in This Window" {{action "openInOwnWindow" target="tabGroup"}}>{{tabGroup.title}}</a> 
		<a title="Open Group in New Window" {{action "openInNewWindow" target="tabGroup"}}><i class="icon-external-link"></i></a>
		<span class="separator"> | </span>
		<a title="Rename Group" {{action "rename" target="parentView"}}><i class="icon-edit"></i></a>
		{{#if tabGroup.isTrashed}}
			<a title="Untrash Group" {{action "untrash" target="tabGroup"}}><i class="icon-repeat"></i></a>
		{{else}}
			<a title="Trash Group" {{action "trash" target="tabGroup"}}><i class="icon-remove-sign"></i></a>
		{{/if}}
  </script>


  <script type="text/x-handlebars" data-template-name="tabGroup">
		<a title="Expand Group" {{bindAttr class="isExpanded:expanded :expandHandle :icon-chevron-right"}} {{action "toggleCollapsed"}}></a>

		{{view titleView tabGroupBinding="tabGroup" displayModeBinding="titleDisplayMode" parentViewBinding="this"}}

		{{#if isExpanded}}
			<ul class="tabList">
				{{#each tabGroup.tabs}}
					{{view DTab.TabView tabBinding="this"}}
				{{/each}}
			</ul>
		{{else}}
			<div class="tabOverview">
				{{#each tabGroup.tabs}}
					{{view DTab.TabViewMini tabBinding="this"}}
				{{/each}}
			</div>
		{{/if}}
  </script>

  <script type="text/x-handlebars" data-template-name="tabGroupList">
  </script>

</head>

<body>
	<script type="text/x-handlebars">
  	{{view DTab.MainControlsView id="mainControls"}}
	</script>

	<div id="target">
		<script type="text/x-handlebars">
			{{#each DTab.CurrentGroupController}}
				{{view DTab.CurrentGroupView tabGroupBinding="this"}}
			{{/each}}

		
	  	{{#each DTab.TabGroupController contentBinding="this"}}
				{{view DTab.TabGroupView tabGroupBinding="this"}}				
			{{/each}}
		</script>
	</div>
</body>

</html>